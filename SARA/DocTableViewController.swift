//
//  DocTableViewController.swift
//  SARA
//
//  Created by Conor Culleton on 11/27/18.
//  Copyright © 2018 Conor Culleton. All rights reserved.
//

import UIKit

class DocTableViewController: UIViewController {
    
    @IBOutlet weak var search: UITextField!
    var documents = ["Sexual Assault", "Child Sexual Abuse", "Sexual Assault of Males", "Intimate Partner Sexual Violence",  "Incest", "Drug-Facilitated Sexual Assault"]
    var docArray = ["Sexual Assault Sexual assault can take many different forms, but one thing remains the same: it’s never the victim’s fault. What is sexual assault? The term sexual assault refers to sexual contact or behavior that occurs without explicit consent of the victim. Some forms of sexual assault include: Attempted rape Fondling or unwanted sexual touching Forcing a victim to perform sexual acts, such as oral sex or penetrating the perpetrator’s body Penetration of the victim’s body, also known as rape What is rape? Rape is a form of sexual assault, but not all sexual assault is rape. The term rape is often used as a legal definition to specifically include sexual penetration without consent. For its Uniform Crime Reports, the FBI defines rape as “penetration, no matter how slight, of the vagina or anus with any body part or object, or oral penetration by a sex organ of another person, without the consent of the victim.” To see how your state legally defines rape and other forms of sexual assault, visit RAINN's State Law Database. What is force? Force doesn’t always refer to physical pressure. Perpetrators may use emotional coercion, psychological force, or manipulation to coerce a victim into non-consensual sex. Some perpetrators will use threats to force a victim to comply, such as threatening to hurt the victim or their family or other intimidation tactics. Who are the perpetrators? The majority of perpetrators are someone known to the victim. Approximately seven out of 10 of sexual assaults are committed by someone known to the victim, such as in the case of intimate partner sexual violence or acquaintance rape. The term “date rape” is sometimes used to refer to acquaintance rape. Perpetrators of acquaintance rape might be a date, but they could also be a classmate, a neighbor, a friend’s significant other, or any number of different roles. It’s important to remember that dating, instances of past intimacy, or other acts like kissing do not give someone consent for increased or continued sexual contact. In other instances the victim may not know the perpetrator at all. This type of sexual violence is sometimes referred to as stranger rape. Stranger rape can occur in several different ways: Blitz sexual assault: when a perpetrator quickly and brutally assaults the victim with no prior contact, usually at night in a public place Contact sexual assault: when a perpetrator contacts the victim and tries to gain their trust by flirting, luring the victim to their car, or otherwise trying to coerce the victim into a situation where the sexual assault will occur Home invasion sexual assault: when a stranger breaks into the victim's home to commit the assault Survivors of both stranger rape and acquaintance rape often blame themselves for behaving in a way that encouraged the perpetrator. It’s important to remember that the victim is a never to blame for the actions of a perpetrator. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673) or chat online at online.rainn.org. Legal Disclaimer The Rape Abuse and Incest National Network (RAINN) website provides general information that is intended, but not guaranteed, to be correct and up-to-date. The information is not presented as a source of legal advice. You should not rely, for legal advice, on statements or representations made within the website or by any externally referenced Internet sites. If you need legal advice upon which you intend to rely in the course of your legal affairs, consult a competent, independent attorney. RAINN does not assume any responsibility for actions or non-actions taken by people who have visited this site, and no one shall be entitled to a claim for detrimental reliance on any information provided or expressed.      ", "Child SexAbuse Abuse When a perpetrator intentionally harms a minor physically, psychologically, sexually, or by acts of neglect, the crime is known as child abuse. This page focuses specifically on child sexual abuse and the warning signs that this crime may be occurring. What is child sexual abuse? Child sexual abuse is a form of child abuse that includes sexual activity with a minor. A child cannot consent to any form of sexual activity, period. When a perpetrator engages with a child this way, they are committing a crime that can have lasting effects on the victim for years. Child sexual abuse does not need to include physical contact between a perpetrator and a child. Some forms of child sexual abuse include: Exhibitionism, or exposing oneself to a minor Fondling Intercourse Masturbation in the presence of a minor or forcing the minor to masturbate Obscene phone calls, text messages, or digital interaction Producing, owning, or sharing pornographic images or movies of children Sex of any kind with a minor, including vaginal, oral, or anal Sex trafficking Any other sexual conduct that is harmful to a child's mental, emotional, or physical welfare What do perpetrators of child sexual abuse look like? The majority of perpetrators are someone the child or family knows. As many as 93 percent of victims under the age of 18 know the abuser. A perpetrator does not have to be an adult to harm a child. They can have any relationship to the child including an older sibling or playmate, family member, a teacher, a coach or instructor, a caretaker, or the parent of another child. According to 1 in 6, “[Child] sexual abuse is the result of abusive behavior that takes advantage of a child’s vulnerability and is in no way related to the sexual orientation of the abusive person.” Abusers can manipulate victims to stay quiet about the sexual abuse using a number of different tactics. Often an abuser will use their position of power over the victim to coerce or intimidate the child. They might tell the child that the activity is normal or that they enjoyed it. An abuser may make threats if the child refuses to participate or plans to tell another adult. Child sexual abuse is not only a physical violation; it is a violation of trust and/or authority. How can I protect my child from sexual abuse? A big part of protecting your child is about creating a dialogue. Read more to learn about creating this dialogue and keeping your child safe. Talk to Your Child if You Suspect Sexual Abuse Protecting Children from Sexual Abuse What are the warning signs? Child sexual abuse isn’t always easy to spot. The perpetrator could be someone you’ve known a long time or trust, which may make it even harder to notice. Consider the following warning signs: Physical signs: Bleeding, bruises, or swelling in genital area Bloody, torn, or stained underclothes Difficulty walking or sitting Frequent urinary or yeast infections Pain, itching, or burning in genital area Behavioral signs: Changes in hygiene, such as refusing to bathe or bathing excessively Develops phobias Exhibits signs of depression or post-traumatic stress disorder Expresses suicidal thoughts, especially in adolescents Has trouble in school, such as absences or drops in grades Inappropriate sexual knowledge or behaviors Nightmares or bed-wetting Overly protective and concerned for siblings, or assumes a caretaker role Returns to regressive behaviors, such as thumb sucking Runs away from home or school Self-harms Shrinks away or seems threatened by physical contact Where can I get help? If you want to talk to someone anonymously, call the National Child Abuse Hotline at 800.4.A.CHILD (422-4453), any time 24/7. Learn more about being an adult survivor of childhood sexual abuse. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673) or chat online at online.rainn.org.     ", "Sexual Assault of Males Sexual assault can happen to anyone, no matter your age, sexual orientation, or gender identity. Men and boys who have been sexually assaulted or abused may have many of the same feelings and reactions as other survivors of sexual assault, but they may also face some additional challenges because of social attitudes and stereotypes about men and masculinity. Common reactions Men and boys who have been sexually assaulted may experience the same effects of sexual assault as other survivors, and they may face other challenges that are more unique to their experience. Some men who have survived sexual assault as adults feel shame or self-doubt, believing that they should have been “strong enough” to fight off the perpetrator. Many men who experienced an erection or ejaculation during the assault may be confused and wonder what this means. These normal physiological responses do not in any way imply that you wanted, invited, or enjoyed the assault. If something happened to you, know that it is not your fault and you are not alone. Men who were sexually abused as boys or teens may also respond differently than men who were sexually assaulted as adults. The following list includes some of the common experiences shared by men and boys who have survived sexual assault. It is not a complete list, but it may help you to know that other people are having similar experiences: Anxiety, depression, post-traumatic stress disorder, flashbacks, and eating disorders Avoiding people or places that remind you of the assault or abuse Concerns or questions about sexual orientation Fear of the worst happening and having a sense of a shortened future Feeling like less of a man or that you no longer have control over your own body Feeling on-edge, being unable to relax, and having difficulty sleeping Sense of blame or shame over not being able to stop the assault or abuse, especially if you experienced an erection or ejaculation Withdrawal from relationships or friendships and an increased sense of isolation Worrying about disclosing for fear of judgment or disbelief Who are the perpetrators of sexual assault against men and boys? Perpetrators can be any gender identity, sexual orientation, or age, and they can have any relationship to the victim. Like all perpetrators, they might use physical force or psychological and emotional coercion tactics. Can being assaulted affect sexual orientation? Sexual assault is in no way related to the sexual orientation of the perpetrator or the survivor, and a person’s sexual orientation cannot be caused by sexual abuse or assault. Some men and boys have questions about their sexuality after surviving an assault or abuse—and that’s understandable. This can be especially true if you experienced an erection or ejaculation during the assault. Physiological responses like an erection are involuntary, meaning you have no control over them. Sometimes perpetrators, especially adults who sexually abuse boys, will use these physiological responses to maintain secrecy by using phrases such as, You know you liked it. If you have been sexually abused or assaulted, it is not your fault. In no way does an erection invite unwanted sexual activity, and ejaculation in no way condones an assault. How to support male survivors It can be hard to tell someone that you have experienced sexual assault or abuse. You may fear that you will face judgment or not be believed. For many male survivors, stereotypes about masculinity can also make it hard to disclose to friends, family, or the community. Men and boys also may face challenges believing that it is possible for them to be victims of sexual violence, especially if it is perpetrated by a woman. Below are a few suggestions on how you can support a man or boy who discloses to you that he has experienced sexual assault or abuse. Listen. Many people in crisis feel as though no one understands them and that they are not taken seriously. Show them they matter by giving your undivided attention. It is hard for many survivors to disclose assault or abuse, especially if they fear not being believed because of stereotypes about masculinity. Validate their feelings. Avoid making overly positive statements like “It will get better” or trying to manage their emotions, like Snap out of it or You shouldn’t feel so bad. Make statements like I believe you or That sounds like a really hard thing to go through. Express concern. Tell them in a direct way that you care about them by saying something like I care about you or I am here for you. Do not ask about details of the assault. Even if you are curious about what happened and feel that you want to fully understand it, avoid asking for details of how the assault occurred. However, if a survivor chooses to share those details with you, try your best to listen in a supportive and non-judgmental way. Provide appropriate resources. There may be other aspects in men’s lives that could limit their ability to access resources and services after experiencing sexual assault or abuse. For example, trans men may face barriers when navigating medical care or black men may have concerns about reaching out to law enforcement. Be sensitive to these worries, and when supporting a survivor try your best to suggest resources you feel will be most helpful. What if I experienced sexual assault as an adult? Some men who have survived sexual assault as adults feel shame or self-doubt, believing that they should have been strong enough to fight off the perpetrator. Many men who experienced an erection or ejaculation during the assault may be confused and wonder what this means. These normal physiological responses do not in any way imply that you wanted, invited, or enjoyed the assault. If you were sexually assaulted, it was not your fault. You can find help at 1in6, an organization RAINN partners with that is dedicated to helping men who have survived unwanted or abusive sexual experiences. What if the abuse happened when I was a minor? If you were sexually abused when you were a child or a teenager, you may have different feelings and reactions at different times in your life. The 1in6 website has answers to many of the questions or concerns you might have as an adult survivor of child or teen sexual abuse. How could this affect my relationships? Coming forward about surviving sexual assault or sexual abuse can be difficult. It requires a lot of trust and understanding both for you and the person you choose to tell. You can find answers to some of the questions you might have about telling a partner at 1in6. Finding support If something happened to you, know that you are not alone. Visit online.rainn.org. Chat anonymously and confidentially with a RAINN support specialist who is trained to help. Call the National Sexual Assault Hotline. Call 800.656.HOPE (4763) to be connected to a trained staff member from a local sexual assault service provider in your area. Consider therapy or other mental health support. Some therapists specialize in issues you may be facing as a result of the abuse or assault. You may want to speak on the phone or meet with a few therapists before deciding which one is the best fit for you. You can ask your insurance company which providers are covered by your insurance plan. You can also visit use the Mental Health Treatment Locator function from the Substance Abuse and Mental Health Services Administration (SAMHSA). Find the center that is closest to you and best fits your needs. Example Stories Being able to share your story with other male survivors may be important in feeling less alone and connecting with others in your healing process. Read survivor stories of men who have experienced sexual assault or abuse as children, teens, and adults. Adam’s story: Do not internalize the abuse, because that will make it seem that the abuse is happening all over again. Brad’s story: I think for me and possibly other men, it’s a huge pride thing—feeling like you have to be the man and face your problems and get over it. Brian’s story: Showing emotion about being abused? It's not well-accepted. As a Black man, you've been broken down so much that you have to put on a face of being strong. We have a lot of pain that is unattended to. Danyol’s story: Talking about it really does take back power from the trauma. Keith’s story: I was afraid of what people would think. I was ashamed that a man sexually assaulted me…that I didn't fight hard enough. Scott’s story: Reading stories from other men and hearing what they’ve become and accomplished after the abuse has uplifted me.     ", "Intimate Partner Sexual Violence A perpetrator can have any relationship to a victim, and that includes the role of an intimate partner. There are many different terms to refer to sexual assault committed by a person in a relationship with the victim, including: intimate partner sexual violence, domestic violence, intimate partner rape, marital rape, and spousal rape. No matter what term is used or how the relationship is defined, it is never okay to engage in sexual activity without someone’s consent. How does sexual assault relate to domestic violence? Sexual assault in a relationship rarely exists in a vacuum. It often occurs alongside other forms of abusive behavior. The majority of women who were physically assaulted by an intimate partner had been sexually assaulted by that same partner1. To learn more about dating and domestic violence, visit the National Domestic Violence Hotline website. Why should I reach out? If you have experienced sexual assault by an intimate partner, it can be challenging to come forward for many reasons. You may be concerned for your safety or the safety of your children, still have strong feelings for your partner, or aren’t convinced that what’s happening to you is really sexual assault. It’s understandable to feel this way. Ending an abusive relationship is not something that you have to do alone. Reaching out for help from friends, loved ones, local organizations or law enforcement can help you through this process. Help is available You can find support from a confidential, non-judgmental source. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673) or chat online at online.rainn.org. Call the National Domestic Violence Hotline at 800.799.SAFE (7233) any time, 24/7, or chat online. Learn more about safety planning to brainstorm ideas for safety or escape. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673) or chat online at online.rainn.org.     ", "Incest If you’ve experienced sexual abuse by a family member you are not alone — and what happened to you is not your fault. While it may be difficult to talk about, you should know that this is an issue that impacts many people. The majority of juvenile victims know the perpetrator, and approximately 34 percent of perpetrators in cases of child sexual abuse are family members.1 While incest is often underreported, RAINN frequently offers support to survivors of incest of all ages through the National Sexual Assault Hotline. If you want to talk to someone confidentially about what you are going through, visit online.rainn.org, any time, 24/7 to speak with a RAINN support specialist. What is incest? The term incest refers to sexual contact between family members. Laws vary from state to state regarding what constitutes crimes of incest, child sexual abuse, sexual assault, and rape. Regardless of state laws, unwanted sexual contact from a family member can have a lasting effect on the survivor. Why is it difficult to tell someone about sexual abuse by a family member? It can be difficult for an individual to disclose sexual assault or abuse when they know the perpetrator. It can be especially difficult if the perpetrator is a family member. What can keep a victim of sexual abuse by a family member from telling someone? They may care about the abuser and be afraid of what will happen to the abuser if they tell. They may also be concerned about other family members' reactions, fearing they won’t be believed or will be accused of doing something wrong. They may have already tried to tell someone what happened, but the abuse was ignored or minimized. They have been told by the perpetrator that what is happening is normal or happens in every family, and they don’t realize that it is a form of abuse. They may not know that help is available, or they don’t know who to trust. They may be afraid of getting in trouble for telling, or that the abuser will follow through with threats. To talk through ways to get help, or guidance on how to talk about what is going on with trusted friends or family members, contact the National Sexual Assault Hotline at 800.656.HOPE (4673) and online.rainn.org. Trained support specialists can help you come up with a plan to get the help that you deserve. How to help someone who has experienced sexual abuse If you suspect a child is being harmed, talk to the child directly using these conversation tips. If the victim is a minor or a vulnerable adult, you can report it to Child Protective Services, the Department of Human Services, or the police. In some instances, you may be required to report by law. Learn more about mandatory reporting laws from RAINN’s State Law Database. If someone tells you that they have been abused, take their words seriously. Let them know you believe them, and thank them for coming to you. Learn more about how to respond to a survivor. If you are a child, tell an adult you trust who isn’t a member of the victim’s family, like a teacher, faith/religious leader, or a family friend. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673) or chat online at online.rainn.org. Where can I find support? If you have experienced sexual abuse by a family member, you may encounter a range of short and long term effects that many survivors face. You may face additional issues related to your sense of safety and trust because this type of abuse often disrupts your primary support system—the family. The people who were supposed to protect and care for you may have caused harm or allowed the harm to continue. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673). You’ll be connected to a trained staff member from a local sexual assault service provider who can connect you to resources in your area. Chat online at online.rainn.org with someone who is trained to help you talk through what happened. RAINN’s online chat is anonymous and confidential. For additional resources in your local community, visit Survivors of Incest Anonymous, an organization that can help you find survivor support groups in your area. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673) or chat online at online.rainn.org.       ", "Drug-Facilitated Sexual Assault In cases of drug-facilitated sexual assault, survivors often blame themselves. Remember—you are not to blame. Someone took advantage of you, and that is not your fault. What is drug-facilitated sexual assault? Drug-facilitated sexual assault occurs when alcohol or drugs are used to compromise an individual's ability to consent to sexual activity. These substances make it easier for a perpetrator to commit sexual assault because they inhibit a person’s ability to resist and can prevent them from remembering the assault. Drugs and alcohol can cause diminished capacity, a legal term that varies in definition from state to state. You may have heard the term “date rape drugs” to refer to substances that can aid a perpetrator in committing sexual assault. Drug-facilitated sexual assault can happen to anyone, by anyone, whether the perpetrator is a date, a stranger, or someone you’ve known for a while. How does a perpetrator use drugs and alcohol? Drug-facilitated sexual assault occurs in two ways: when the perpetrator takes advantage of a victim’s voluntary use of drugs or alcohol or when the perpetrator intentionally forces a victim to consume drugs without their knowledge. Some victims blame themselves for drinking too much at a party or putting themselves in a potentially dangerous situation. It’s important to remember that if a sexual assault occurs under these circumstances, it is still not your fault. The blame falls on the perpetrator who took advantage of you. A perpetrator may intentionally drug a victim, resulting in a situation where it is easy to manipulate the circumstances and commit an assault. Perpetrators use a variety of substances to incapacitate a victim. Alcohol is the most commonly used substance in drug-facilitated sexual assault. Prescription drugs like sleep aids, anxiety medication, muscle relaxers, and tranquilizers may also be used by perpetrators. Street drugs, like GHB, rohypnol, ecstasy, and ketamine can be added to drinks without changing the color, flavor, or odor of the beverage. How will I know if I’ve been drugged? Depending on the substance, the initial effects of a drug can go unnoticed or become apparent very quickly. Being familiar with the warning signs can help alert you to the possibility of drugs in your system. If you notice any of the following warning signs in yourself or someone you know, reach out to someone you trust immediately. If you notice these symptoms in another person, you can take steps to keep that person safe. Difficulty breathing Feeling drunk when you haven’t consumed any alcohol or very limited amounts Loss of bowel or bladder control Nausea Sudden body temperature change that could be signaled by sweating or chattering teeth Sudden increase in dizziness, disorientation, or blurred vision Waking up with no memory, or missing large portions of memories Preserving Evidence If you suspect you were drugged, you can take steps to preserve the evidence for an investigation. Many of these drugs leave the body quickly, within 12 to 72 hours. If you can’t get to a hospital immediately, save your urine in a clean, sealable container as soon as possible, and place it in the refrigerator or freezer. Call the National Sexual Assault Hotline at 800.656.HOPE (4673) to find a hospital or medical center that can provide you with a sexual assault forensic exam and test your blood and urine for substances. To speak with someone who is trained to help, call the National Sexual Assault Hotline at 800.656.HOPE (4673) or chat online at online.rainn.org.       "]
    var firstSearch = true
    var validDoc = [1, 2, 3, 4, 5, 6]
    var array = [Int]()

    @IBOutlet weak var decTable: UITableView!
    override func viewDidLoad() {
        super.viewDidLoad()
        decTable.delegate = self
        decTable.dataSource = self
        // Do any additional setup after loading the view.
    }
    
    @IBAction func searchPush(_ sender: Any) {
        if(firstSearch == true){
            for (i , element) in docArray.enumerated(){
                if(first(search: search.text!, str:element) == false){
                    validDoc[i] = 0
                    print(validDoc[i])
                }else{
                    print(validDoc[i])
                }
            }
        }else{
            for (i, element) in docArray.enumerated(){
                if(subsequent(newString: search.text!, full:element) == false){
                    validDoc[i] = 0
                }
            }
        }
        
    }
    
    func first(search: String, str: String) -> Bool{
        var searchar = Array(search)
        var strchar = Array(str)
        for (index, element) in str.enumerated(){
            if(element == searchar[0]){
                var still = true
                for (i, el) in searchar.enumerated(){
                    if(strchar[index + i] == el){
                        
                    }else{
                        still = false
                    }
                }
                if(still == true){
                    array.append(index)
                }
            }
        }
        if (array.count == 0){
            print("false")
            return false
        }
        return true
    }
    
    func subsequent(newString: String, full: String)->Bool{
        let newchar = Array(newString)
        var array2 = [Int]()
        var full = Array(full)
        for element in array{
            var still = true
            for (i, el) in newchar.enumerated(){
                if (full[element + i] == el) {
                    
                }else{
                    still = false
                }
            }
            if still == true {
                array2.append(element)
            }
        }
        array = array2
        if(array.count == 0){
            return false
        }
        return true
    }

    
}




extension DocTableViewController: UITableViewDataSource, UITableViewDelegate{
    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return 6
    }
    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        let document = documents[indexPath.row]
        let cell = decTable.dequeueReusableCell(withIdentifier: "cell") as! docCell
        cell.SexualAssault.text = document
        return cell
        
    }
}
